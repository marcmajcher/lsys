"use strict";function render(){var t=new Turtle("turtle-canvas"),e={F:"F+F-F-F+F"},i=new Lsystem(t,"-F",e,10);i.step(4),i.render()}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),defaultDistance=10,defaultAngle=90,Lsystem=function(){function t(e,i,n){var s=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:defaultDistance,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:defaultAngle;_classCallCheck(this,t),this.turtle=e,this.axiom=i,this.prods=n,this.distance=r,this.angle=a,this.reset(),this.rules={F:function(){s.turtle.penDown(),s.turtle.forward(s.distance)},f:function(){s.turtle.penUp(),s.turtle.forward(s.distance)},"+":function(){return s.turtle.right(s.angle)},"-":function(){return s.turtle.left(s.angle)}}}return _createClass(t,[{key:"reset",value:function(){return this.moves=this.axiom,this}},{key:"step",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=0;e<t;e++){var i=this.moves;this.moves="";for(var n=0;n<i.length;n++)this.moves+=this.prods[i[n]]||i[n]}}},{key:"render",value:function(){this.turtle.reset();for(var t=0;t<this.moves.length;t++)this.rules[this.moves[t]]()}}]),t}(),_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Turtle=function(){function t(e){_classCallCheck(this,t),this.canvas=document.getElementById(e),this.ctx=this.canvas.getContext("2d"),this.reset()}return _createClass(t,[{key:"reset",value:function(){this.x=this.canvas.width/2,this.y=this.canvas.height,this.ctx.beginPath(),this.ctx.moveTo(this.x,this.y),this.direction=0,this.states=[],this.penDown()}},{key:"penDown",value:function(){return this.draw=!0,this}},{key:"penUp",value:function(){return this.draw=!1,this}},{key:"moveTo",value:function(t,e){return this.x=t,this.y=e,this.ctx.moveTo(t,e),this.ctx.beginPath(),this}},{key:"_go",value:function(){return this.draw?(this.ctx.lineTo(this.x,this.y),this.ctx.stroke()):this.ctx.moveTo(this.x,this.y),this}},{key:"forward",value:function(t){return this.x+=t*Math.cos(this.direction),this.y+=t*Math.sin(this.direction),this._go()}},{key:"backward",value:function(t){return this.x+=t*Math.cos(this.direction-Math.PI),this.y+=t*Math.sin(this.direction-Math.PI),this._go()}},{key:"right",value:function(t){return this.direction+=t*(Math.PI/180),this}},{key:"left",value:function(t){return this.direction-=t*(Math.PI/180),this}},{key:"save",value:function(){return this.states.push({x:this.x,y:this.y,d:this.direction}),this}},{key:"restore",value:function(){var t=this.states.pop();return t&&(this.x=t.x,this.y=t.y,this.direction=t.d),this}}]),t}();